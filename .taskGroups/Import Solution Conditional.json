{
    "tasks": [
        {
            "environment": {},
            "displayName": "Pack Solution Unmanaged...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), ne(variables['SolutionImportType'],'Skip'), eq(variables['SolutionPackageType'],'Unmanaged'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "SolutionSourceFolder": "$(SolutionSrcFolderPath)\\$(SolutionName)",
                "SolutionOutputFile": "$(System.ArtifactsDirectory)/$(SolutionName).zip",
                "SolutionType": "Unmanaged",
                "SingleComponent": "None",
                "MapFile": "",
                "LocaleTemplate": "",
                "Localize": "false",
                "UseLcid": "false",
                "DisablePluginRemap": "false",
                "ProcessCanvasApps": "false"
            },
            "task": {
                "id": "769929ed-e421-451b-8255-21a8d9d9d3f9",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Pack Solution Managed...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), ne(variables['SolutionImportType'],'Skip'), eq(variables['SolutionPackageType'],'Managed'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "SolutionSourceFolder": "$(SolutionSrcFolderPath)\\$(SolutionName)",
                "SolutionOutputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "SolutionType": "Managed",
                "SingleComponent": "None",
                "MapFile": "",
                "LocaleTemplate": "",
                "Localize": "false",
                "UseLcid": "false",
                "DisablePluginRemap": "false",
                "ProcessCanvasApps": "false"
            },
            "task": {
                "id": "769929ed-e421-451b-8255-21a8d9d9d3f9",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Overwrite...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Overwrite...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Convert...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Convert...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Overwrite Convert...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Overwrite Convert...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Overwrite Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Overwrite Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'False'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Convert Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Convert Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'False'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Update Overwrite Convert Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Update'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Managed Upgrade Overwrite Convert Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'), eq(variables['OverwriteUnmanagedLayers'],'True'), eq(variables['ConvertToManaged'],'True'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName)_managed.zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120",
                "HoldingSolution": "true",
                "OverwriteUnmanagedCustomizations": "true",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "true",
                "ConvertToManaged": "true",
                "PublishCustomizationChanges": "false",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Apply Solution Upgrade...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), eq(variables['SolutionImportType'],'Upgrade'), eq(variables['SolutionPackageType'],'Managed'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionName": "$(SolutionName)",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "120"
            },
            "task": {
                "id": "44baeac4-f767-4cb9-83e8-d210ce763397",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Unmanaged...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), ne(variables['SolutionImportType'],'Skip'), eq(variables['SolutionPackageType'],'Unmanaged'), eq(variables['DeploymentSettings'],'False'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName).zip",
                "UseDeploymentSettingsFile": "false",
                "DeploymentSettingsFile": "",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "false",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "true",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        },
        {
            "environment": {},
            "displayName": "Import Unmanaged Settings...",
            "alwaysRun": false,
            "continueOnError": false,
            "condition": "and(succeeded(), ne(variables['SolutionImportType'],'Skip'), eq(variables['SolutionPackageType'],'Unmanaged'), eq(variables['DeploymentSettings'],'True'))",
            "enabled": true,
            "timeoutInMinutes": 0,
            "retryCountOnTaskFailure": 3,
            "inputs": {
                "authenticationType": "PowerPlatformSPN",
                "PowerPlatformEnvironment": "",
                "PowerPlatformSPN": "https://$(DomainName).$(DomainSuffix)/",
                "Environment": "https://$(DomainName).$(DomainSuffix)/",
                "SolutionInputFile": "$(System.ArtifactsDirectory)/$(SolutionName).zip",
                "UseDeploymentSettingsFile": "true",
                "DeploymentSettingsFile": "$(DeploymentSettingsFolderPath)/$(DomainName).settings.$(SolutionName).json",
                "AsyncOperation": "true",
                "MaxAsyncWaitTime": "60",
                "HoldingSolution": "false",
                "OverwriteUnmanagedCustomizations": "false",
                "ActivatePlugins": "true",
                "SkipProductUpdateDependencies": "false",
                "ConvertToManaged": "false",
                "PublishCustomizationChanges": "true",
                "PublishWorkflows": "false"
            },
            "task": {
                "id": "fb4a48f1-0eeb-4909-9e47-9bc290e1cb89",
                "versionSpec": "2.*",
                "definitionType": "task"
            }
        }
    ],
    "runsOn": [
        "Agent",
        "DeploymentGroup"
    ],
    "revision": 2,
    "createdBy": {
        "displayName": "Craig Lund",
        "id": "0018251d-9faa-62c1-8374-2e5074f17586",
        "uniqueName": "craig.lund@poweralm.com"
    },
    "createdOn": "2023-02-03T00:12:08.900Z",
    "modifiedBy": {
        "displayName": "Craig Lund",
        "id": "0018251d-9faa-62c1-8374-2e5074f17586",
        "uniqueName": "craig.lund@poweralm.com"
    },
    "modifiedOn": "2023-02-03T02:13:42.440Z",
    "id": "b52200fb-8043-405b-8370-d2d5abc6b09f",
    "name": "Import Solution Conditional",
    "version": {
        "major": 1,
        "minor": 0,
        "patch": 0,
        "isTest": false
    },
    "iconUrl": "https://cdn.vsassets.io/v/M216_20230130.5/_content/icon-meta-task.png",
    "friendlyName": "Import Solution Conditional",
    "description": "Imports a solution based upon conditional evaluations. Must run Evaluate for Solution Import Type or set values manually. Requires Power Platform Tools to be installed. ",
    "category": "Deploy",
    "definitionType": "metaTask",
    "author": "Craig Lund",
    "demands": [],
    "groups": [],
    "inputs": [
        {
            "aliases": [],
            "options": {},
            "properties": {},
            "name": "DeploymentSettingsFolderPath",
            "label": "DeploymentSettingsFolderPath",
            "defaultValue": "$(System.DefaultWorkingDirectory)/config/deployment-settings",
            "required": true,
            "type": "string",
            "helpMarkDown": "Enter the solution source path. $(System.DefaultWorkingDirectory)/config/deployment-settings or $(System.DefaultWorkingDirectory)/_release/config/deployment-settings",
            "groupName": ""
        },
        {
            "aliases": [],
            "options": {},
            "properties": {},
            "name": "DomainName",
            "label": "DomainName",
            "defaultValue": "$(DomainName)",
            "required": true,
            "type": "string",
            "helpMarkDown": "Enter the domain name of the environment to connect to. Example: For https://contoso.crm.dynamics.com/ the domain name would be contoso.",
            "groupName": ""
        },
        {
            "aliases": [],
            "options": {},
            "properties": {},
            "name": "DomainSuffix",
            "label": "DomainSuffix",
            "defaultValue": "$(DomainSuffix)",
            "required": true,
            "type": "string",
            "helpMarkDown": "Enter the domain suffix of the environment to connect to. Example: For https://contoso.crm.dynamics.com/ the domain name would be crm.dynamics.com.",
            "groupName": ""
        },
        {
            "aliases": [],
            "options": {},
            "properties": {},
            "name": "SolutionName",
            "label": "SolutionName",
            "defaultValue": "$(SolutionName)",
            "required": true,
            "type": "string",
            "helpMarkDown": "Enter the name of the solution to import.",
            "groupName": ""
        },
        {
            "aliases": [],
            "options": {},
            "properties": {},
            "name": "SolutionSrcFolderPath",
            "label": "SolutionSrcFolderPath",
            "defaultValue": "$(System.DefaultWorkingDirectory)/solutionSrc",
            "required": true,
            "type": "string",
            "helpMarkDown": "Enter the solution source path. $(System.DefaultWorkingDirectory)/solutionSrc or $(System.DefaultWorkingDirectory)/_release/solutionSrc",
            "groupName": ""
        }
    ],
    "satisfies": [],
    "sourceDefinitions": [],
    "dataSourceBindings": [],
    "instanceNameFormat": "Task group: Import Solution Conditional $(DeploymentSettingsFolderPath)",
    "preJobExecution": {},
    "execution": {},
    "postJobExecution": {}
}